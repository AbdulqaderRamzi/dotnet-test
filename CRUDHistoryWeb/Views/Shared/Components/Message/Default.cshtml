@model List<Message>

<a class="nav-link dropdown-toggle" href="#" id="messagesDropdown" role="button"
   data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <i class="fas fa-envelope fa-fw"></i>
    <!-- Counter - Messages -->
    <span class="badge badge-danger badge-counter">@Model.Count</span>
</a>

<div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in"
     aria-labelledby="messagesDropdown">
    <h6 class="dropdown-header">Message Center</h6>
    @foreach (var message in Model){
        <a class="dropdown-item d-flex align-items-center" href="#">
            <div class="dropdown-list-image mr-3">
                <img class="rounded-circle" src="@message.applicationUser.ImageUrl" alt="...">
                <div class="status-indicator @(message.SentAt > DateTime.Now.AddHours(-1) ? "bg-success" : "")"></div>
            </div>
            <div class="font-weight-bold">
                <div class="text-truncate">@message.Content</div>
                <div class="small text-gray-500">
                    @string.Concat(message.applicationUser.FirstName, " ", message.applicationUser.LastName) ·
                    @message.SentAt.ToShortTimeString()
                </div>
            </div>
        </a>
    }
    <a class="dropdown-item text-center small text-gray-500" href="#">Read More Messages</a>
</div>